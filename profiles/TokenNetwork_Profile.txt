┌────────────────────────────┬─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┬────────────┬───────────┬──────────────────────────────────────────────────────┬────────────────────────────────┐
│                            │ File: TokenNetwork.sol, Solidity Pragma: null0.5.4                                                                      │            │           │                                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Contract/Library/Interface │ Function(Params with Storage Location)                                                                                  │ Visibility │ View/Pure │ Returns                                              │ Modifiers                      │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Utils                      │ contractExists(address)                                                                                                 │ public     │ view      │ bool                                                 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Token (interface)          │ totalSupply() -abstract                                                                                                 │ external   │ view      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Token (interface)          │ balanceOf(address) -abstract                                                                                            │ external   │ view      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Token (interface)          │ transfer(address,uint256) -abstract                                                                                     │ external   │           │ bool                                                 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Token (interface)          │ transferFrom(address,address,uint256) -abstract                                                                         │ external   │           │ bool                                                 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Token (interface)          │ approve(address,uint256) -abstract                                                                                      │ external   │           │ bool                                                 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Token (interface)          │ allowance(address,address) -abstract                                                                                    │ external   │ view      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ Token (interface)          │ decimals() -abstract                                                                                                    │ external   │ view      │ uint8                                                │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ ECVerify (library)         │ ecverify(bytes32,bytes memory)                                                                                          │ internal   │ pure      │ address                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ SecretRegistry             │ registerSecret(bytes32)                                                                                                 │ public     │           │ bool                                                 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ SecretRegistry             │ registerSecretBatch(bytes32 memory)                                                                                     │ public     │           │ bool                                                 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ SecretRegistry             │ getSecretRevealBlockHeight(bytes32)                                                                                     │ public     │ view      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ constructor(address,address,uint256,uint256,uint256,address,uint256,uint256)                                            │ public     │           │                                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ deprecate()                                                                                                             │ public     │           │                                                      │ isSafe,onlyDeprecationExecutor │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ openChannel(address,address,uint256)                                                                                    │ public     │           │ uint256                                              │ isSafe,settleTimeoutValid      │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ setTotalDeposit(uint256,address,uint256,address)                                                                        │ public     │           │                                                      │ isSafe,isOpen                  │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ setTotalWithdraw(uint256,address,uint256,uint256,bytes calldata,bytes calldata)                                         │ external   │           │                                                      │ isOpen                         │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ closeChannel(uint256,address,address,bytes32,uint256,bytes32,bytes memory,bytes memory)                                 │ public     │           │                                                      │ isOpen                         │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ updateNonClosingBalanceProof(uint256,address,address,bytes32,uint256,bytes32,bytes calldata,bytes calldata)             │ external   │           │                                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ settleChannel(uint256,address,uint256,uint256,bytes32,address,uint256,uint256,bytes32)                                  │ public     │           │                                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ unlock(uint256,address,address,bytes memory)                                                                            │ public     │           │                                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getChannelIdentifier(address,address)                                                                                   │ public     │ view      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getChannelInfo(uint256,address,address)                                                                                 │ external   │ view      │ uint256,ChannelState                                 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getChannelParticipantInfo(uint256,address,address)                                                                      │ external   │ view      │ uint256,uint256,bool,bytes32,uint256,bytes32,uint256 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getParticipantsHash(address,address)                                                                                    │ public     │ pure      │ bytes32                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getUnlockIdentifier(uint256,address,address)                                                                            │ public     │ pure      │ bytes32                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ updateBalanceProofData(Channel storage,address,uint256,bytes32)                                                         │ internal   │           │                                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ storeUnlockData(uint256,address,address,uint256,bytes32)                                                                │ internal   │           │                                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getChannelAvailableDeposit(Participant storage,Participant storage)                                                     │ internal   │ view      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getSettleTransferAmounts(Participant storage,uint256,uint256,Participant storage,uint256,uint256)                       │ private    │ view      │ uint256,uint256,uint256,uint256                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getMaxPossibleReceivableAmount(SettlementData memory,SettlementData memory)                                             │ internal   │ pure      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ verifyBalanceHashData(Participant storage,uint256,uint256,bytes32)                                                      │ internal   │ view      │ bool                                                 │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ recoverAddressFromBalanceProof(uint256,bytes32,uint256,bytes32,bytes memory)                                            │ internal   │ view      │ address                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ recoverAddressFromBalanceProofCounterSignature(MessageTypeId,uint256,bytes32,uint256,bytes32,bytes memory,bytes memory) │ internal   │ view      │ address                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ recoverAddressFromWithdrawMessage(uint256,address,uint256,uint256,bytes memory)                                         │ internal   │ view      │ address                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getHashAndUnlockedAmount(bytes memory)                                                                                  │ internal   │ view      │ bytes32,uint256                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ getLockedAmountFromLock(bytes memory,uint256)                                                                           │ internal   │ view      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ min(uint256,uint256)                                                                                                    │ internal   │ pure      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ max(uint256,uint256)                                                                                                    │ internal   │ pure      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ failsafe_subtract(uint256,uint256)                                                                                      │ internal   │ pure      │ uint256,uint256                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetwork               │ failsafe_addition(uint256,uint256)                                                                                      │ internal   │ pure      │ uint256                                              │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetworkRegistry       │ constructor(address,uint256,uint256,uint256,uint256)                                                                    │ public     │           │                                                      │                                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼──────────────────────────────────────────────────────┼────────────────────────────────┤
│ TokenNetworkRegistry       │ createERC20TokenNetwork(address,uint256,uint256)                                                                        │ external   │           │ address                                              │ canCreateTokenNetwork          │
└────────────────────────────┴─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┴────────────┴───────────┴──────────────────────────────────────────────────────┴────────────────────────────────┘
