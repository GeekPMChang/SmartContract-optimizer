┌────────────────────────────┬─────────────────────────────────────────────────────────────────────────────┬────────────┬───────────┬───────────────┬──────────────────────────┐
│                            │ File: BatPay.sol, Solidity Pragma: ^0.4.25                                  │            │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Contract/Library/Interface │ Function(Params with Storage Location)                                      │ Visibility │ View/Pure │ Returns       │ Modifiers                │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ IERC20 (interface)         │ totalSupply() -abstract                                                     │ external   │ view      │ uint256       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ IERC20 (interface)         │ balanceOf(address) -abstract                                                │ external   │ view      │ uint256       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ IERC20 (interface)         │ allowance(address,address) -abstract                                        │ external   │ view      │ uint256       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ IERC20 (interface)         │ transfer(address,uint256) -abstract                                         │ external   │           │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ IERC20 (interface)         │ approve(address,uint256) -abstract                                          │ external   │           │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ IERC20 (interface)         │ transferFrom(address,address,uint256) -abstract                             │ external   │           │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ mul64(uint256,uint256)                                                      │ internal   │ pure      │ uint64        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ div64(uint256,uint256)                                                      │ internal   │ pure      │ uint64        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ sub64(uint256,uint256)                                                      │ internal   │ pure      │ uint64        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ add64(uint256,uint256)                                                      │ internal   │ pure      │ uint64        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ mul32(uint256,uint256)                                                      │ internal   │ pure      │ uint32        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ div32(uint256,uint256)                                                      │ internal   │ pure      │ uint32        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ sub32(uint256,uint256)                                                      │ internal   │ pure      │ uint32        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ add32(uint256,uint256)                                                      │ internal   │ pure      │ uint32        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ mul(uint256,uint256)                                                        │ internal   │ pure      │ uint256       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ div(uint256,uint256)                                                        │ internal   │ pure      │ uint256       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ sub(uint256,uint256)                                                        │ internal   │ pure      │ uint256       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ SafeMath (library)         │ add(uint256,uint256)                                                        │ internal   │ pure      │ uint256       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Merkle (library)           │ combinedHash(bytes32,bytes32)                                               │ public     │ pure      │ bytes32       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Merkle (library)           │ getProofRootHash(bytes32 memory,uint256,bytes32)                            │ public     │ pure      │ bytes32       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ isValidId(uint)                                                             │ public     │ view      │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ isAccountOwner(uint)                                                        │ public     │ view      │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ bulkRegister(uint256,bytes32)                                               │ public     │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ claimBulkRegistrationId(address,bytes32 memory,uint,uint)                   │ public     │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ register()                                                                  │ public     │           │ uint32        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ withdraw(uint64,uint256)                                                    │ external   │           │               │ onlyAccountOwner         │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ deposit(uint64,uint256)                                                     │ external   │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ balanceAdd(uint,uint64)                                                     │ internal   │           │               │ validId                  │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ balanceSub(uint,uint64)                                                     │ internal   │           │               │ validId                  │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ balanceOf(uint)                                                             │ external   │ view      │ uint64        │ validId                  │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ getAccountsLength()                                                         │ external   │ view      │ uint          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Accounts                   │ getBulkLength()                                                             │ external   │ view      │ uint          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ challengeHasExpired(Data storage)                                           │ public     │ view      │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ isSlotStatusValid(Data storage,uint8)                                       │ public     │ view      │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ getFutureBlock(uint)                                                        │ public     │ view      │ uint64        │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ getDataSum(bytes memory)                                                    │ public     │ pure      │ uint          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ getDataAtIndex(bytes memory,uint)                                           │ public     │ pure      │ uint64,uint32 │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ getBytesPerId(bytes)                                                        │ internal   │ pure      │ uint          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ getPayDataSum(bytes memory,uint,uint)                                       │ public     │ pure      │ uint          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ getPayDataCount(bytes)                                                      │ public     │ pure      │ uint          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ challenge_1(Data storage,Data storage,Data storage,uint32)                  │ public     │           │               │ onlyValidCollectSlot     │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ challenge_2(Data storage,Data storage,bytes memory)                         │ public     │           │               │ onlyValidCollectSlot     │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ challenge_3(Data storage,Data storage,bytes memory,uint32)                  │ public     │           │               │ onlyValidCollectSlot     │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ challenge_4(Data storage,Data storage,bytes memory)                         │ public     │           │               │ onlyValidCollectSlot     │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ challenge_success(Data storage,Data storage,Data storage)                   │ public     │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ challenge_failed(Data storage,Data storage,Data storage)                    │ public     │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Challenge (library)        │ recoverHelper(bytes32,bytes)                                                │ public     │ pure      │ address       │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ registerPayment(uint32,uint64,uint64,bytes,uint,bytes32,bytes32,bytes32)    │ external   │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ unlock(uint32,uint32,bytes memory)                                          │ public     │           │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ refundLockedPayment(uint32)                                                 │ external   │           │ bool          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ collect(uint32,uint32,uint32,uint32,uint64,uint64,address,bytes memory)     │ public     │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ getPaymentsLength()                                                         │ external   │ view      │ uint          │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ challenge_1(uint32,uint32,uint32)                                           │ public     │           │               │ validId,onlyAccountOwner │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ challenge_2(uint32,uint32,bytes memory)                                     │ public     │           │               │ onlyAccountOwner         │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ challenge_3(uint32,uint32,bytes memory,uint32)                              │ public     │           │               │ validId                  │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ challenge_4(uint32,uint32,bytes memory)                                     │ public     │           │               │ onlyAccountOwner         │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ challenge_success(uint32,uint32)                                            │ public     │           │               │ validId                  │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ challenge_failed(uint32,uint32)                                             │ public     │           │               │ onlyAccountOwner         │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ Payments                   │ freeSlot(uint32,uint32)                                                     │ public     │           │               │                          │
├────────────────────────────┼─────────────────────────────────────────────────────────────────────────────┼────────────┼───────────┼───────────────┼──────────────────────────┤
│ BatPay                     │ constructor(IERC20,uint32,uint32,uint32,uint32,uint64,uint64,uint32,uint64) │ public     │           │               │                          │
└────────────────────────────┴─────────────────────────────────────────────────────────────────────────────┴────────────┴───────────┴───────────────┴──────────────────────────┘
